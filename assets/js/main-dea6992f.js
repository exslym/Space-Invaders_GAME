var $=Object.defineProperty;var _=(i,t,e)=>t in i?$(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var l=(i,t,e)=>(_(i,typeof t!="symbol"?t+"":t,e),e);function wt(){import.meta.url,import("_").catch(()=>1);async function*i(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();const tt=""+new URL("../images/space2-d13d609f.png",import.meta.url).href,et=""+new URL("../wav/shoot-29f56726.wav",import.meta.url).href;class it{constructor(t,e,s,r,o,c,p){this.canvas=t,this.x=e-c/2,this.y=s,this.velocity=r,this.bulletColor=o,this.width=c,this.height=p}draw(t){this.y-=this.velocity,t.fillStyle=this.bulletColor,t.fillRect(this.x,this.y,this.width,this.height)}collideWith(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height}}let st=window,rt=document,ot=rt.getElementsByTagName("body")[0],D=st.innerWidth||ot.clientWidth,m=5,w=20;D<=1024&&(m=m*.85,w=w*.85);D<=600&&(m=m*.75,w=w*.75);D<=425&&(m=m*.7,w=w*.7);Audio.prototype.stop=function(){this.pause(),this.currentTime=0};Audio.prototype.restart=function(){this.pause(),this.currentTime=0,this.play()};class O{constructor(t,e,s,r){l(this,"bullets",[]);l(this,"timeTillNextBulletAllowed",0);this.canvas=t,this.maxBulletsAtATime=e,this.bulletColor=s,this.soundEnabled=r,this.shootSound=new Audio(et),this.shootSound.volume=.5}draw(t){this.bullets=this.bullets.filter(e=>e.y+e.width>0&&e.y<=this.canvas.height),this.bullets.forEach(e=>e.draw(t)),this.timeTillNextBulletAllowed>0&&this.timeTillNextBulletAllowed--}collideWith(t){const e=this.bullets.findIndex(s=>s.collideWith(t));if(e>=0)return this.bullets.splice(e,1),!0}shoot(t,e,s,r=0){if(this.timeTillNextBulletAllowed<=0&&this.bullets.length<this.maxBulletsAtATime){const o=new it(this.canvas,t,e,s,this.bulletColor,m,w);this.bullets.push(o),this.soundEnabled&&this.shootSound.restart(),this.timeTillNextBulletAllowed=r}}}const J="data:audio/wav;base64,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QS9Jy/cbJpHO2x4Qm+CYLHTLsSUcxuNSL5nHeyxn24IqqcV4NCm871Axtc5ELaPEpiMl47QpXN2qKWXTrC4ox981PIrathtqyYIxMbzqcy6Jy1gxrsR3NUHS0h8gwtZIM8bHMiun0E8yvM1VMYjBoCsh2dxPN2fOxyQx270pTNXGJCa32GM+WcrqLyinxl4ttsJaPEXW2ixN0rwhLYvVzSQy2b8qK7nXWkVkzNwiPdC6KSWozoA5cc2sKUTcozJTztcwKaLCfD5GvuBBO824KTTQxz0xkcpwPZPKji9pzJMtZM+cL1nOsCFqzXRAVcXaPjt8yLMhXM+JMW7Cqig726gvXc66JzSV1bglQtG/LSrKuDJJheC6I3C/li0qyc5GPqDCdjxpz6wuQ83DLEjOtSwxtchrQnTGriszpNh5M6+zWT1f0p41ZM26JzOpzndBWLfTOzzIsDs9dMu+KUvUsS47xcRBRKTDaTmotVdCbcm/KDPAwnhAUM3LMjbDtk9JY9K+MlPLwC04rrxWQcSwLk/QqTFEwcZkRlTKxyxBfc+1M1HIvi88rLhUQ7y5VEGQw2tJb8LOPD2VuG88p7FoRVDOwDpPx603U4zNrx0vtbhOU2bDzDZJa8a7L06QzYI8Xr3BQkFyxJg0h7aJOkTPxE5FmrZdSZ27aE1nts9FSMCqQD+msVpVabzMQ0vGq0BMaMbLQUl5vrErSJ3FpzJByqRCWJHSij9fuL5KRG+/uCpHyaw5UpXGri9Au7RHV8GfOFLDrT5SuLNLS5y4aEWUtWlKdMCyMkiot2FMi7KWM1zEmTdQw7dBV8OTQlmnv2hMbL+iNVK9skNPdcK9MEaWuXRFoaZrTlnEuTlWwKQ+Uqm2YEydqnlBcr11TmyrxXQ8c7R9R2G9tTxZw6I/TJW4eEaiqFBUm7hpUG6vuERTlrGYMUe7r2BPYbi1R1Sqq1ZUg8CnNE2nsm9LW7O5V1GNs3JTba28VVJwuqo3W8CjPE6dtW1UirmVPVOrtnVKWMGuQ1Z4v7Q0VaiuWlK0nFVVb8GkQWOtsGtHYLuiQWK4o0hauaVIU5yve0l0vYVQc7yfO1aFxZ0/bbadOlKdsnlLXJXCg0RXn7ZqTXmzh0prtKBBW6mpaE5js61JX7mgSlmAtqM5Xb6fRlavn1JikrqZP1O0plZYkKt5Umq4pEpdnatoVIG1lEBcisCmN1e4mEZdn7BpWJugclB8tXpSf7OWQlitq1del6uFRWq5g01njcWJSX+nhEZWo7FpWYarhUpquo9NaaymT1iOqnpQaZK+h0dfrpxJYn66n0FajbKLS2WtnEpinKh7S3Owj0VluZFLareVS2GgpGBgp5plUoymZGR3n7NcXoKwmz9WnaRoXIWvj0hmqpZVY6OlZFtwlbl1UIGib1eMpG9cjqOATnGwjUxiraJqW3KzlEppo6NkWZGZY2SIsX9Wcoq4iUVeo6BdY3qxnEhelqRtYIirg1Jpk69pW5eWaGBrkrh2WJCYbF93sZVIZnywpVRgiKWCUGyrl1JojaqFU2eWrIJRZKmdYmNxqZ9Va5aieFdwq5dNZ6mQXWaLsnxec4W1hk1mopldX3KmllBpkaNyWpKTZGWDq4pPa4CymE5fh6OCVnOnj1hsmp51WWyqmVlmmJRwY3Gtklptj6p5WWyPq4JSbKqLUGuCrZ5Van+pmVBllJptZIigeV51o5NdaZGgbmR3oJ1gZ3Wok1Fpi6WIVmeemmVpk5xzYnScmVtroZFdbXSTrmpqdoqoa1+JlXRgcqOUXWuFo4tTaaCTYG6ZkmlpdY2thVRxo4RWbX6llWFsf6aSUWySimdrmZBobYSkgmF0mJVmaoGkiVNpjaB9YG6Mp3lldJuRXmyHn4RYbIqlgl52oIlbbIqcgmFyoI9bcJaNZm2WkWhslo5tbH+jiFtuhqGEYHCUlW9lgpl9Y3GJqIhabI+Yc2p9mYpdepp/Y32ed2d0iqd6YXOVkWlsiJJxbXaFrIVdbYuWcWyGk4BhcJeTaXN+jplra3qUk2Vsgpl/ZXiUi2pxf6CLYW2ImHtpfpqKXm+LlXtpd5iPam6HknppdpmPbHF0kZFpb3yZh11yloZmdXyUlm1we5eKYHB8mI5pcH2ahWZ0fpqRbG9zjZZudHqFnnNvgA==",lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAgCAYAAABpRpp6AAAAAXNSR0IArs4c6QAAAMlJREFUWEftmMsRgCAMREkz9kSF9GQzON40HN7s8HHUeA0hy8vCgJbgq2Wr1yGWd6McJa7Oj8XVCRWx51h1/hD8OGEvQG3h6Hy0xOiCvQsOweTh6YR9ARLUG6dzHi0RgqEF3ydMFrC83xjVskm2VfM98cbDIdjx/x9hsoBk0AWDLQRPpvx+wv7cW20Zqt8QpoTJHU9UPwT3dmA4YbpNqYLpQt/E5YTFP1JCsGoB9RXeEFYL0rlMm8bXU/cEvumICAlQF0gAQ/BsSxwAIwm07NURxAAAAABJRU5ErkJggg==",nt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAgCAYAAABpRpp6AAAAAXNSR0IArs4c6QAAAMlJREFUWEftmMsRgCAMRKEKCrA1yqI1C7AKHW8aD292+DhovJKQ52ZBJAZ48pr2a0hZtkg5yrg6PxZXJ1Rgz1h1fgd+XWELoLawdT5aonXB2hd2YPJwd4VtAQKqHad9Hi3hwNCC7ytMFijLdtMor0myrZpvFX942IGN/v9TmCwgGXRAcHTgzirPr7Dd90Zbhuo/FKaEzh0PVN+BazvQXGE6TanAdKC347IlHBhuluZXuNZzNp8WDcUTD/7T0b0EAdCHR10TDtzbEgcPdARENcIVZgAAAABJRU5ErkJggg==",ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAgCAYAAABpRpp6AAAAAXNSR0IArs4c6QAAAMZJREFUWEftmMERgDAIBKUc20phtmU5Ov4UHzs3hDgqfgNhPS4xxiZ45rZt55B1MaMcZVydH4urEyqwR6w6fwE/rrAHUFvYOx8t0btg9IULmDycrrAvQEDRcdrn0RIFDC34vsJkgXW5umhul6MGWljN94rfPFzATvP/KUwWQFMODrACTlb8/Qr7fW+0Zaj+TWFKSO74RPULONqB7grTaUoFpgO9H5ctUcBws/R+haOe8/m0aCieePCfju4lCIA+POqaKOBsS+ykewacq1lhmAAAAABJRU5ErkJggg==";class at{constructor(t,e,s,r,o){this.x=t,this.y=e,this.width=r,this.height=o,this.image=new Image,s===1?this.image.src=lt:s===2?this.image.src=nt:s===3&&(this.image.src=ht)}draw(t){t.drawImage(this.image,this.x,this.y,this.width,this.height)}move(t,e){this.x+=t,this.y+=e}collideWith(t){return this.x+this.width>t.x&&this.x<t.x+t.width&&this.y+this.height>t.y&&this.y<t.y+t.height}}const a={left:0,right:1,downLeft:2,downRight:3};let ct=window,dt=document,At=dt.getElementsByTagName("body")[0],U=ct.innerWidth||At.clientWidth,u=44,f=32,E=1.36,W=1.36,L=1.6,M=1;U<=1024&&(u=u*.85,f=f*.85);U<=600&&(u=u*.7,f=f*.7,E=E*1.1,W=W*1,L=1,M=.7);U<=425&&(u=u*.55,f=f*.55,E=E*1.2,W=W*1.1,L=.9,M=.6);Audio.prototype.stop=function(){this.pause(),this.currentTime=0};Audio.prototype.restart=function(){this.pause(),this.currentTime=0,this.play()};class ut{constructor(t,e,s){l(this,"enemyMap",[[1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1],[2,2,2,3,3,3,3,2,2,2],[2,2,2,3,3,3,3,2,2,2],[1,1,1,1,1,1,1,1,1,1],[2,2,2,2,2,2,2,2,2,2]]);l(this,"enemyRows",[]);l(this,"currentDirection",a.right);l(this,"xVelocity",0);l(this,"yVelocity",0);l(this,"defaultXVelocity",L);l(this,"defaultYVelocity",M);l(this,"moveDownTimerDefault",32);l(this,"moveDownTimer",this.moveDownTimerDefault);l(this,"fireBulletTimerDefault",100);l(this,"fireBulletTimer",this.fireBulletTimerDefault);this.canvas=t,this.enemyBulletController=e,this.playerBulletController=s,this.createEnemies(),this.enemyDeathSound=new Audio(J),this.enemyDeathSound.volume=.5}draw(t){this.decrementMoveDownTimer(),this.updateVelocityAndDirection(),this.collisionDetection(),this.drawEnemies(t),this.resetMoveDownTimer(),this.fireBullet()}collisionDetection(){this.enemyRows.forEach(t=>{t.forEach((e,s)=>{this.playerBulletController.collideWith(e)&&(this.enemyDeathSound.restart(),t.splice(s,1))})}),this.enemyRows=this.enemyRows.filter(t=>t.length>0)}fireBullet(){if(this.fireBulletTimer--,this.fireBulletTimer<=0){this.fireBulletTimer=this.fireBulletTimerDefault;const t=this.enemyRows.flat(),e=Math.floor(Math.random()*t.length),s=t[e];this.enemyBulletController.shoot(s.x,s.y,-4)}}decrementMoveDownTimer(){(this.currentDirection===a.downLeft||this.currentDirection===a.downRight)&&this.moveDownTimer--}resetMoveDownTimer(){this.moveDownTimer<=0&&(this.moveDownTimer=this.moveDownTimerDefault)}updateVelocityAndDirection(){for(const t of this.enemyRows)if(this.currentDirection===a.right){this.xVelocity=this.defaultXVelocity,this.yVelocity=0;const e=t[t.length-1];if(e.x&&e.x+e.width>=this.canvas.width){this.currentDirection=a.downLeft;break}}else if(this.currentDirection===a.downLeft){if(this.moveDown(a.left))break}else if(this.currentDirection===a.left){this.xVelocity=-this.defaultXVelocity,this.yVelocity=0;const e=t[0];if(e.x&&e.x<=0){this.currentDirection=a.downRight;break}}else if(this.currentDirection===a.downRight&&this.moveDown(a.right))break}moveDown(t){return this.xVelocity=0,this.yVelocity=this.defaultYVelocity,this.moveDownTimer<=0?(this.currentDirection=t,!0):!1}drawEnemies(t){this.enemyRows.flat().forEach(e=>{e.move(this.xVelocity,this.yVelocity),e.draw(t)})}createEnemies(){this.enemyMap.forEach((t,e)=>{this.enemyRows[e]=[],t.forEach((s,r)=>{s>0&&this.enemyRows[e].push(new at(r*u*E,e*f*W,s,u,f))})})}collideWith(t){return this.enemyRows.flat().some(e=>e.collideWith(t))}}const ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAwCAYAAABT9ym6AAAAAXNSR0IArs4c6QAAAktJREFUaEPtWTtOw0AQXYsaiYIOToCCrKRCouEUFByAT+OSCiiAitINnwNQcAoaJKqgiIgTQEeBRI0W2fGs5JGHt+t4Hds4TRR7Z2feezOzYydQnj+vYagHRxMVHKrApyuvmyeB6xulp9eh2pxMvPryunkCpFfEMQ97RWwJ62vElqlsnffUapwiSUCji1i9fERO4Mt2LVd/1kEN12I9Po2cD7ayirj6swbiyhCleGcUSZhNQLmmZOWKUCDR5XJKcnzynX6jwMiONx9bO1d/MLX+LRAOnCuCFC1LXOWKtBYIL2bzO9opPJuH8WOuxiT72muk80CIUVQjjVekNUCIaZ7L/LqkiK096nK0T+muZRtI64BQwMQgSi1+n+wkgtBEUJkijQEiTbfSSYtqwfEBz8xwtorweI0i0rTZVCA83kCaUjmjUneabqzklt7t/ViJsX+/lFs3ePvK/Zb8SZt3D4htl+HdpS5FUHxGEbRw0amF4psbCHdAuS/VinQfnSM9EOmAk5jjXQgpQvvTusYo0hggqPmjKdc3EBTf3OcIAVw4EIQUnfwciJTzfIbi3YvXiOv7MOvpVwLcGiAEQO+up68+g4f3FLz02oeYHW9fFWIfPR2n16XnEXru4P5Q5kBFugfkVs0UOZj9X45qZ3wWFStyHv9JrlGE+atOkc4A+dyaKbL6nEtHymVijGpIZ+s5k2Qv2ZlUFvyJzyNIMrRx64BIgHWWckaRrIYgAcDOlmDj19WAr+8MEMS8qKRjDSDCrc8RtBEVN28GdQH5BdBODwD0mTMTAAAAAElFTkSuQmCC";class gt{constructor(t,e,s,r,o,c,p,T){l(this,"rightPressed",!1);l(this,"leftPressed",!1);l(this,"shootPressed",!1);l(this,"keydown",t=>{t.code=="ArrowLeft"&&(this.leftPressed=!0),t.code=="ArrowRight"&&(this.rightPressed=!0),t.code=="Space"&&(this.shootPressed=!0)});l(this,"keyup",t=>{t.code=="ArrowLeft"&&(this.leftPressed=!1),t.code=="ArrowRight"&&(this.rightPressed=!1),t.code=="Space"&&(this.shootPressed=!1)});l(this,"handleStart",t=>{t.target.id=="leftArrow"&&(t.preventDefault(),t.stopPropagation(),this.leftPressed=!0),t.target.id=="rightArrow"&&(t.preventDefault(),t.stopPropagation(),this.rightPressed=!0),t.target.id=="fireButton"&&(t.preventDefault(),t.stopPropagation(),this.shootPressed=!0)});l(this,"handleEnd",t=>{t.target.id=="leftArrow"&&(this.leftPressed=!1),t.target.id=="rightArrow"&&(this.rightPressed=!1),t.target.id=="fireButton"&&(this.shootPressed=!1)});this.canvas=t,this.velocity=e,this.bulletController=s,this.x=this.canvas.width/2-r/2,this.y=this.canvas.height-r*2,this.y<=this.canvas.height-75&&(this.y=this.canvas.height-75),this.width=r,this.height=o,this.image=new Image,this.image.src=ft,this.leftArrow=c,this.rightArrow=p,this.fireButton=T,this.deathSound=new Audio(J),this.deathSound.volume=.5,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup),this.leftArrow.addEventListener("touchstart",this.handleStart),this.leftArrow.addEventListener("touchend",this.handleEnd),this.rightArrow.addEventListener("touchstart",this.handleStart),this.rightArrow.addEventListener("touchend",this.handleEnd),this.fireButton.addEventListener("touchstart",this.handleStart),this.fireButton.addEventListener("touchend",this.handleEnd)}draw(t){this.move(),this.collideWidthWalls(),this.shootPressed&&this.bulletController.shoot(this.x+this.width/2,this.y,4,10),t.drawImage(this.image,this.x,this.y,this.width,this.height)}move(){this.rightPressed?this.x+=this.velocity:this.leftPressed&&(this.x+=-this.velocity)}collideWidthWalls(){this.x<0&&(this.x=0),this.x>this.canvas.width-this.width&&(this.x=this.canvas.width-this.width)}}function yt(){const i=document.querySelector("#game"),t=document.querySelector("#endGame"),e=document.querySelector("#start"),s=document.querySelector("#restart"),r=document.querySelector(".section__content"),o=i.getContext("2d"),c=document.querySelector("#leftArrow"),p=document.querySelector("#rightArrow"),T=document.querySelector("#fireButton"),b=document.querySelector("#controls");b.style.display="none";const k=window,K=document,F=K.getElementsByTagName("body")[0],C=k.innerWidth||F.clientWidth;let q=window.getComputedStyle(r,null),G=q.getPropertyValue("width"),n=q.getPropertyValue("height");i.width=parseInt(G),i.height=parseInt(n);let d=50,g=48;C<=1024&&(d=d*.85,g=g*.85),C<=768&&(i.height=i.height*.76,b.style.display="flex",e.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/2}px`,s.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/3.2}px`,t.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/1.4}px`),C<=600&&(d=d*.7,g=g*.7),C<=400&&(d=d*.7,g=g*.7),C<=360&&(b.style.bottom="15px",e.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/2.2}px`,s.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/3.2}px`,t.style.top=`${parseInt(n)/2-(parseInt(n)-i.height)/1.4}px`);const S=new Image;S.src=tt,S.onload=function(){P(this)};function P(y){let B=Math.max(i.width/y.width,i.height/y.height),z=i.width/2-y.width/2*B,j=i.height/2-y.height/2*B;o.drawImage(y,z,j,y.width*B,y.height*B)}const I=new O(i,20,"lime",!0),h=new gt(i,4,I,d,g,c,p,T),x=new O(i,4,"red",!1),v=new ut(i,x,I);let A=!1,R=!1,V=0;function X(){P(S),Z(),N(),A||(v.draw(o),h.draw(o),I.draw(o),x.draw(o))}function N(){A&&(clearInterval(V),s.style.display="block",t.style.display="block",t.textContent=R?"YOU WIN!":"GAME OVER")}function Z(){A||(x.collideWith(h)&&(h.deathSound.currentTime=0,h.deathSound.play(),A=!0),v.collideWith(h)&&(h.deathSound.currentTime=0,h.deathSound.play(),A=!0),v.enemyRows.length===0&&(R=!0,A=!0))}e.addEventListener("click",function(){e.style.display="none",A=!1,R=!1,Q()}),s.addEventListener("click",function(){s.style.display="none",t.style.display="none",A=!1,R=!1,Y(),H(),Q()});function Y(){o.clearRect(0,0,i.width,i.height),h.x=i.width/2-d/2,h.y=i.height-h.width*2,h.y<=i.height-75&&(h.y=i.height-75),v.createEnemies(),v.currentDirection=a.right,x.bullets=[],x.timeTillNextBulletAllowed=0,I.bullets=[],I.timeTillNextBulletAllowed=0}function Q(){V=setInterval(X,1e3/60)}function H(){clearInterval(V)}}window.addEventListener("DOMContentLoaded",()=>{yt()});export{wt as __vite_legacy_guard};
